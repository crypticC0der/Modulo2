Shader "Hidden/shader"
{
    Properties
    {
        _ExampleName ("Example vector", Vector) = (.25, .5,0,0)
    }
    SubShader
    {
        // No culling or depth
        Cull Off ZWrite Off ZTest Always

        Pass
        {
            CGPROGRAM
// Upgrade NOTE: excluded shader from DX11 because it uses wrong array syntax (type[size] name)
#pragma exclude_renderers d3d11
            #pragma vertex vert
            #pragma fragment frag

            #include "UnityCG.cginc"

            struct appdata
            {
                float4 vertex : POSITION;
                float2 uv : TEXCOORD0;
            };

            struct v2f
            {
                float2 uv : TEXCOORD0;
                float4 vertex : SV_POSITION;
            };

            v2f vert (appdata v)
            {
                v2f o;
                o.vertex = UnityObjectToClipPos(v.vertex);
                o.uv = v.uv;
                return o;
            }

            float2 bary(float2 p){
                p.x += sqrt(3)/2;
                p.y += 1.0/2;

                float2 t = float2(0,0);
                t.y = (p.y*2.0/3);
                t.x = (p.x-(sqrt(3)*t.y/2))/sqrt(3);
                return t;
            }

            float dsq(float2 a,float2 b){
                return pow(a.x - b.x,2) + pow(a.y - b.y,2);
            }

            float4 frag (v2f i) : SV_Target
            {
                float2 b = bary(i.uv);
                float2 points[100] = {
                    float2(0.26890933233673386,0.4938626697618491),
                    float2(0.1990149502815579,0.4921757181039728),
                    float2(0.4773687157956019,0.19299572537515397),
                    float2(0.18785927437770855,0.3618656121339156),
                    float2(0.04399185330599695,0.632091712671802),
                    float2(0.34383053614487263,0.3984290822209601),
                    float2(0.46995589505608326,0.33481781643259506),
                    float2(0.32792250556469105,0.0313054039551892),
                    float2(0.28562626839887234,0.6219177637204679),
                    float2(0.45428809483502525,0.3881016137364449),
                    float2(0.24225353596904958,0.4806774853510225),
                    float2(0.5081113289293084,0.3442684215847545),
                    float2(0.2873928589213557,0.5207216420672425),
                    float2(0.5553605452737213,0.367162553759748),
                    float2(0.19085633922490397,0.22184587181797033),
                    float2(0.4705052855635465,0.42577939253456415),
                    float2(0.628651333639523,0.2411183769889073),
                    float2(0.3498180839930692,0.1323385335460477),
                    float2(0.6249671398211317,0.19122071634487492),
                    float2(0.32093628028661597,0.4296467384152413),
                    float2(0.34642726943477775,0.4254370512972438),
                    float2(0.32268919202005014,0.3739023839342945),
                    float2(0.2969285261846223,0.1889879391439237),
                    float2(0.44777446078358996,0.39395232026454857),
                    float2(0.05951356239671295,0.6517228990337679),
                    float2(0.5343790027772309,0.36828390851507287),
                    float2(0.271631525251743,0.347540402047074),
                    float2(0.5077820374761975,0.13112480985347852),
                    float2(0.326824944861133,0.35713754296182465),
                    float2(0.043290330827409955,0.390096797157677),
                    float2(0.30178245596529324,0.38384360124754385),
                    float2(0.7711392370817347,0.09376173002110105),
                    float2(0.1510443397605789,0.8351287060421075),
                    float2(0.35962342352151183,0.3679875399393231),
                    float2(0.21227746567325753,0.4053339031173117),
                    float2(0.1395161480465361,0.25753577731949007),
                    float2(0.7606541447559209,0.12085171426955046),
                    float2(0.18558443564472005,0.7507289173871041),
                    float2(0.056594145752231206,0.623549698847428),
                    float2(0.17687833220016672,0.7893473802939782),
                    float2(0.06130833634634158,0.21113478286723966),
                    float2(0.40868837169263517,0.5466673749802399),
                    float2(0.14872440920409402,0.49874065290498754),
                    float2(0.07781220116028158,0.5253451500293175),
                    float2(0.23346700946180743,0.4707091955743455),
                    float2(0.21474215711328987,0.5638015413310958),
                    float2(0.20063510265771226,0.41883946435426495),
                    float2(0.16672776455522825,0.49364732549728496),
                    float2(0.5454052609106148,0.3086847815550339),
                    float2(0.4498903179195065,0.3766013346124279),
                    float2(0.40066249033261087,0.3746588246149949),
                    float2(0.6309371246178659,0.11581162828224048),
                    float2(0.23662746819,0.3476744511600815),
                    float2(0.0009374321756866271,0.44069528051549195),
                    float2(0.21722961907966193,0.49749919608187004),
                    float2(0.48263683406266755,0.4121959198961299),
                    float2(0.7022510761606986,0.26273411772518696),
                    float2(0.6120126733907344,0.3782964446355766),
                    float2(0.5089466570922832,0.3689205648983437),
                    float2(0.7792493744723268,0.06866473703466129),
                    float2(0.28310435573439213,0.3108221373319147),
                    float2(0.12664543783567503,0.1650089274623729),
                    float2(0.18808151788390884,0.5166263962890845),
                    float2(0.18963308826682795,0.45308349631145767),
                    float2(0.08731064738560929,0.8765437424163727),
                    float2(0.4061963664795273,0.2168393138448818),
                    float2(0.0054548808251208315,0.9680033364847207),
                    float2(0.4243538706070224,0.29738812512576035),
                    float2(0.33114285854251524,0.3311421429107263),
                    float2(0.38257418020878126,0.4469540519556928),
                    float2(0.473968450769126,0.42205876893471017),
                    float2(0.3580569676428185,0.16482994090090716),
                    float2(0.399932636865797,0.5583424213455697),
                    float2(0.5496245885382085,0.33672963466402617),
                    float2(0.29831735340982113,0.4241089213695357),
                    float2(0.19163268077001558,0.19318606595043944),
                    float2(0.9052876834289084,0.08430996816332158),
                    float2(0.0469173021579116,0.17828392219285635),
                    float2(0.06368403160419014,0.41267575848666105),
                    float2(0.35307918372497293,0.37131173055417294),
                    float2(0.40523645546527226,0.28196319666219366),
                    float2(0.09669745876600756,0.4475116373086723),
                    float2(0.23111189069122212,0.5571382837189586),
                    float2(0.3125896683810153,0.40492239823123427),
                    float2(0.10794630435841049,0.37353274788532825),
                    float2(0.13675473325904333,0.4387368689939787),
                    float2(0.25389082282154973,0.38395750923800614),
                    float2(0.4598954293379164,0.04003346886985746),
                    float2(0.4910475424146754,0.21664616054398325),
                    float2(0.17397366124916702,0.4373869777300693),
                    float2(0.4271976915216718,0.3824951344544631),
                    float2(0.825929062723852,0.11011007458251836),
                    float2(0.3937907444321123,0.3562967828381652),
                    float2(0.13857051803334694,0.19892230625149282),
                    float2(0.7113996211410094,0.2221337261361476),
                    float2(0.2595343313218315,0.26090124098001827),
                    float2(0.4657392182170465,0.38788277747372346),
                    float2(0.30585071330089575,0.5049941583999215),
                    float2(0.4304132083649042,0.32034351755466345),
                    float2(0.13400674871365514,0.6044524285663153)
                };

                float4 cols[100] = {
                    float4(0.07541377702825014,0.9287146400515771,0.10701549295274748,0.7976876986216477),
                    float4(0.14947791908843777,0.21969135875784818,0.6778854357377274,0.9325741774937643),
                    float4(0.7802715300180266,0.9987994501595114,0.6078148838699565,0.27702002505076173),
                    float4(0.39907297038594003,0.17737559010634762,0.8032219346463574,0.9193887202649661),
                    float4(0.00010983864370095464,0.7035767833163793,0.7067395881844271,0.14014278930279866),
                    float4(0.41018659474471775,0.2859935250760768,0.20747250129439487,0.8945123192951349),
                    float4(0.3397775849533542,0.7900270732243583,0.9314136199046992,0.6871614552580663),
                    float4(0.21733122446285913,0.07272121520437047,0.4070211333295015,0.6185760479158227),
                    float4(0.18555418569888482,0.9894913029694549,0.4554405361418443,0.5656667367252932),
                    float4(0.8978648795617998,0.42082513974972346,0.5570238989457662,0.9814882733556584),
                    float4(0.7122801646910084,0.08334656741294277,0.3916494037085282,0.09409124278628855),
                    float4(0.15204448037723006,0.8286329416612568,0.5399181492882398,0.6777213225191595),
                    float4(0.27091792141179705,0.3606317782768179,0.7272836623690022,0.2767180532139345),
                    float4(0.39893059983255874,0.7510082275895553,0.8383251541641077,0.4142286611063982),
                    float4(0.05451141747804744,0.9103057888500004,0.6166040431344091,0.523418815949961),
                    float4(0.354254000828485,0.7259312170473451,0.13463697649089723,0.1651584961582624),
                    float4(0.15252556514936588,0.893951573992134,0.20797380569735224,0.38732513664515944),
                    float4(0.7372612822881613,0.7994506106756536,0.36675799425013245,0.4967990826059333),
                    float4(0.7357466485833994,0.7737222175335023,0.07386567279217982,0.0415787395418139),
                    float4(0.3956328941236672,0.04805131534730056,0.29873297194157766,0.8469338172542471),
                    float4(0.9206886708982912,0.8687408834397892,0.0797683922558674,0.7262992742263611),
                    float4(0.14944344772212992,0.6462328882215121,0.06748359432791162,0.1825424509583492),
                    float4(0.20857093077895872,0.16819839176694462,0.84898125898209,0.9940490357478656),
                    float4(0.004033401093378242,0.17958394982809656,0.0036365546082962608,0.9551200999769703),
                    float4(0.6609150945153497,0.5161390692922866,0.48514482095557043,0.788686282051361),
                    float4(0.41502333443467165,0.416644890120617,0.48919200629995163,0.6218434198745869),
                    float4(0.20604770960086616,0.47041955961376347,0.1530908445342204,0.8333284061150362),
                    float4(0.3331743426539028,0.8662827137647604,0.5786638366951866,0.6681575075544942),
                    float4(0.1979872278075122,0.4723224377912675,0.24375781050447076,0.2850314224883226),
                    float4(0.7156767164121304,0.7251231505549407,0.611034112276405,0.28445471506719044),
                    float4(0.18223034823477402,0.36119632914559563,0.8554317116287429,0.6236504051554118),
                    float4(0.295120218060983,0.266449735283687,0.02734988770272262,0.4867681580758981),
                    float4(0.10414911622163547,0.3744653411876464,0.6392123496534938,0.09217197397680166),
                    float4(0.46809015400490306,0.8263964528356729,0.6568089290386616,0.8596662916719863),
                    float4(0.770120701884812,0.46335485139628385,0.06014633186018059,0.946430523596465),
                    float4(0.5710951537407506,0.4889096047207845,0.41610840205461597,0.0479753801456676),
                    float4(0.4086197334780539,0.30098682520498454,0.21002163862672862,0.23003572648694703),
                    float4(0.17321871131246125,0.2040443218608583,0.13507021393924556,0.2605753105306784),
                    float4(0.05778367918353988,0.49753677554716136,0.38945287548254637,0.640791932896561),
                    float4(0.08023531605683243,0.027825466237022423,0.5710966626861361,0.9629984701121648),
                    float4(0.5465631963216766,0.7120119834541441,0.7007111020422202,0.6436509920460949),
                    float4(0.8117887319935863,0.8918641254871966,0.015134976728491067,0.45956567833422135),
                    float4(0.4030575154467737,0.6943125738791834,0.8542193431518629,0.2709361369353872),
                    float4(0.7748389427454019,0.32855236321831416,0.4767378229763014,0.7638138307739114),
                    float4(0.1092853367073855,0.7121370148372795,0.2903839535325812,0.762946235304115),
                    float4(0.03359452190533574,0.5162133224353808,0.8399940682631286,0.5496941966479052),
                    float4(0.3600931583094086,0.5925199808925945,0.6671182952567729,0.6037701326575449),
                    float4(0.5034072547128938,0.8535192375826712,0.5377229513724819,0.4905402072660777),
                    float4(0.32118168707724004,0.705540199067171,0.3721967326154946,0.7754241531748468),
                    float4(0.9423892876461354,0.9308504654373633,0.955937041152586,0.3776012588931238),
                    float4(0.6512885167472141,0.4577369894121306,0.1711447966632479,0.8460275374297174),
                    float4(0.25870752442236633,0.19800682290534632,0.019671917826437846,0.22467195533730433),
                    float4(0.06267936309816113,0.6693136840525187,0.17622408307804904,0.7404287239188849),
                    float4(0.5266687977765165,0.34879146359169866,0.8378600121186743,0.013027242051674381),
                    float4(0.44172530388448483,0.1876581058770762,0.36187956486109696,0.39498324927402406),
                    float4(0.6575880511371631,0.9393322201015062,0.25478184714425267,0.4124976704872094),
                    float4(0.24161676860514913,0.7067443385562441,0.8580038970309947,0.04917569820538781),
                    float4(0.8216079519317767,0.19406226723250708,0.11936728289215626,0.8159241958434106),
                    float4(0.5026311269170004,0.8108412106966321,0.46729697366463163,0.1732752265491122),
                    float4(0.16652137203264816,0.4084968603655238,0.43708246884284185,0.007600229394386315),
                    float4(0.49396967755456056,0.13763909878505032,0.0675546093833641,0.8222773218107393),
                    float4(0.015822607088023966,0.2809676628380804,0.8868265673097043,0.46856982319758156),
                    float4(0.7928646740216582,0.5439503741566809,0.14987995924379016,0.027027903781418394),
                    float4(0.9508809290425108,0.722392992264872,0.1607270836498662,0.3493526309505912),
                    float4(0.3341669486453369,0.5092859656713673,0.6542107000898978,0.8164008864008278),
                    float4(0.1446208711784891,0.12603176254901505,0.38341893737162347,0.8572022377848842),
                    float4(0.3617185755387209,0.7236184534953967,0.673534057312448,0.4327682207445036),
                    float4(0.9958405035297598,0.4892014614071015,0.95918720193062,0.018501831469542207),
                    float4(0.512536566892959,0.23954022194173463,0.6380081523493126,0.0005435871049387364),
                    float4(0.08386244270863685,0.2568359139085753,0.44522152350864885,0.6993009410815689),
                    float4(0.7106136542196905,0.919331497715525,0.811978682499809,0.46021512289277167),
                    float4(0.3240978004183651,0.7323528704088672,0.9902548331446169,0.06842710089593318),
                    float4(0.8912304446291254,0.2079142135478067,0.14369976611861934,0.9686571678374437),
                    float4(0.8461118756108627,0.3076569577477223,0.7945142674392197,0.53157238119663),
                    float4(0.3096574649250955,0.5354002040596035,0.33496575871104506,0.8739102976576776),
                    float4(0.5508187739736313,0.8889911107710823,0.3297396941608288,0.1927693072885921),
                    float4(0.7880003111610843,0.6041346999822238,0.7746321062098545,0.7607975998012131),
                    float4(0.2747798037414968,0.0009111911809582818,0.6054984396406152,0.9269264452443623),
                    float4(0.7073218053581289,0.8758004405531968,0.6131471614368744,0.6765933298822644),
                    float4(0.8878994311816307,0.2285360516715298,0.4571663476101966,0.11874058862885062),
                    float4(0.8918554365080525,0.4004752947861768,0.5900306764553954,0.09406214543889757),
                    float4(0.6594803305887379,0.7679105280999595,0.5668395828496798,0.28320386610956516),
                    float4(0.010834073461158833,0.5721561748783734,0.5816041600610219,0.13729190355860732),
                    float4(0.971877213673825,0.5374437878207761,0.0814278397797541,0.12133513033500232),
                    float4(0.14400473606077424,0.5745418608440502,0.25853116937756604,0.018490386425794036),
                    float4(0.04758003378682463,0.15169858224200738,0.32628169059778145,0.03282928630002768),
                    float4(0.16174043632861268,0.580846794102497,0.9137550423714399,0.7291385423097716),
                    float4(0.3350565638088121,0.5778327520053146,0.8041348001951155,0.8942835926369483),
                    float4(0.3179406052225846,0.5074547146648201,0.2499470384854935,0.4034305166658694),
                    float4(0.966099517208756,0.24375345223124845,0.9179449244509222,0.5368899055980415),
                    float4(0.031443104993060356,0.12021705872812605,0.2174006404694958,0.8353479734727383),
                    float4(0.24197785130283578,0.2725683413607676,0.37699678757899147,0.7226301522385359),
                    float4(0.0005664070555452261,0.44826185242763883,0.5370341573819405,0.6167849674373126),
                    float4(0.20077555652322343,0.8589714450233014,0.5417261301209646,0.02671619581747875),
                    float4(0.6952199747966125,0.7400735993907465,0.9998240474058421,0.8858769548902659),
                    float4(0.20375109275806313,0.793374793783076,0.08322696583198619,0.96693903187645),
                    float4(0.5631981843553631,0.18000590298832564,0.7899639651897744,0.25514929510595385),
                    float4(0.13410334365791354,0.09271066936490091,0.1203970688156688,0.11820400193894565),
                    float4(0.4177239595497433,0.6220451663333687,0.5989590982633505,0.08126396497345179),
                    float4(0.33697994758164385,0.0707043511085168,0.21630513568455523,0.5166614852029338)
                };
                float mindist=99999;
                float4 col;
                float ndist=0;
                for (int i=0;i<50;i++){
                    ndist=dsq(points[i],b);
                    if(ndist<mindist){
                        mindist=ndist;
                        col=cols[i];
                    }
                }
                if(sqrt(mindist)<0.005f){
                    return float4(0,0,0,1);
                }
                return col;
            }
            ENDCG
        }
    }
}
